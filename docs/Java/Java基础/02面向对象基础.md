## 1. 类和对象

面向对象和面向过程的思想对比 : 

面向过程(Procedure Oriented Programming)：是一种以过程为中心的编程思想，实现功能的每一步，都是自己实现的。

面向对象(Object Oriented Programming)：是一种以对象为中心的编程思想，通过指挥对象实现具体的功能。

> 洗衣服:
>
> 面向过程：把衣服脱下来-->找一个盆-->放点洗衣粉-->加点水-->浸泡10分钟-->揉一揉-->清洗衣服-->拧干-->晾起来
>
> 面向对象：把衣服脱下来-->打开全自动洗衣机-->扔衣服-->按钮-->晾起来

### 1.1 概念

类：类是对现实生活中一类具有共同属性和行为的事物的抽象，是对事物的一种描述。

现实中，描述一类事物：

​	1、属性：该事物的特征信息

​	2、行为：该事物能执行的操作

> 猫：
>
> 属性：名字、体重、年龄、颜色
>
> 行为：走、跑、叫

对象：是一类事物的具体体现。对象是类的一个实例，必然具备该类事物的属性和行为。

现实中，对象是一类事物的一个实例：Tom猫

> Tom猫：
>
> 属性：tom、5kg、2 years、yellow
>
> 行为：溜墙根走、蹦跶的跑、喵喵叫

类与对象的关系：

​	1、类是对一类事物的描述，是抽象的。

​	2、对象是一类事物的实例，是具体的。

​	3、类是对象的模板（抽象），对象是类的实体。

​	4、类是对象的数据类型，是具有相同属性和行为的一组对象的集合。

### 1.2 类的定义

定义格式：

```java
public class ClassName {
    //成员变量（属性）
    //成员方法（行为）
}
```

格式详解：

​	1、定义类：就是定义类的成员，包括成员变量和成员方法。

​	2、成员变量：跟之前定义变量的格式一样，只不过位置发生了改变，类中方法外。

​	3、成员方法：跟之前定义方法的格式一样，只不过去掉了static关键字。

```java
public class Student {
    // 属性 : 姓名, 年龄
    String name;
    int age;

    // 行为 : 学习
    public void study(){
        System.out.println("学习");
    }
}
```

### 1.3 对象的创建和使用

创建格式：

```java
类名 对象名 = new 类名();
```

```java
Phone p = new Phone();

// new Phone()——>Phone类的实例对象
// p——>指向（引用）了一个Phone对象
// p进栈，new phone()进堆
```

调用成员的格式：

```java
对象名.成员变量;
对象名.成员方法();
```

```java
public class TestStudent {
    public static void main(String[] args) {
        // 类名 对象名 = new 类名();
        Student stu = new Student();
        
        // 对象名.变量名
        // 默认初始化值
        System.out.println(stu.name);  // null
        System.out.println(stu.age);   // 0

        stu.name = "张三";
        stu.age = 23;

        System.out.println(stu.name);  // 张三
        System.out.println(stu.age);   // 23

        // 对象名.方法名();
        stu.study();
        
        // com.itheima.object1.Student@b4c966a
        // 全类名(包名 + 类名)
        System.out.println(stu);
    }
}
```

成员变量的默认值：

|          | 数据类型                       | 默认值     |
| -------- | ------------------------------ | ---------- |
| 基本类型 | 整数（byte，short，int，long） | `0`        |
|          | 浮点数（float，double）        | `0.0`      |
|          | 字符（char）                   | `'\u0000'` |
|          | 布尔（boolean）                | `false`    |
| 引用类型 | 数组，类，接口                 | `null`     |

### 1.4 手机类的创建和使用

需求：定义一个手机类、一个手机测试类，在手机测试类中通过对象完成成员变量和成员方法的使用

```java
// 手机类
public class Phone {
    // 品牌, 价格
    String brand;
    int price;

    // 打电话, 发短信
    public void call(String name){
        System.out.println("给"+name+"打电话");
    }

    public void sendMessage(){
        System.out.println("群发短信");
    }
}
```

```java
// 测试类
public class TestPhone {
    public static void main(String[] args) {
        // 1. 创建对象
        Phone p = new Phone();
        // 2. 给成员变量进行赋值
        p.brand = "大米";
        p.price = 2999;
        // 3. 打印赋值后的成员变量
        System.out.println(p.brand + "..." + p.price);
        // 4. 调用成员方法
        p.call("阿强");
        p.sendMessage();
    }
}
```

## 2. 对象内存图

### 2.1 单个对象

![image-20210905155832191](C:\Users\admin\AppData\Roaming\Typora\typora-user-images\image-20210905155832191.png)

总结：在栈内存中运行的方法，遵循”先进后出，后进先出"的原则。

### 2.2 多个对象

![image-20210905155907447](C:\Users\admin\AppData\Roaming\Typora\typora-user-images\image-20210905155907447.png)

总结：多个对象在堆内存中，都有不同的内存划分，成员变量存储在各自的内存区域中，成员方法多个对象共用的一份。

### 2.3 两个引用指向同一个对象

![image-20210905155927181](C:\Users\admin\AppData\Roaming\Typora\typora-user-images\image-20210905155927181.png)

总结：当多个对象的引用指向同一个内存空间（变量所记录的地址值是一样的），只要有任何一个对象修改了内存中的数据，随后，无论使用哪一个对象进行数据获取，都是修改后的数据。

## 3. 成员变量和局部变量

### 3.1 区别

| 区别       | 成员变量                       | 局部变量                                   |
| ---------- | ------------------------------ | ------------------------------------------ |
| 类中位置   | 类中方法外                     | 方法内部或方法声明上（形参）               |
| 内存中位置 | 堆内存                         | 栈内存                                     |
| 生命周期   | 随对象的存在而存在、消失而消失 | 随方法的调用而存在、调用完毕而消失         |
| 初始化值   | 有默认初始化值                 | 没有默认初始化值，必须先定义，赋值才能使用 |

## 4. 封装

### 4.1 概述

封装：

是面向对象三大特征之一（封装，继承，多态），是面向对象编程语言对客观世界的模拟，客观世界里成员变量都是隐藏在对象内部的，外界是无法直接操作的。

封装原则：

将类的某些信息隐藏在类内部，不允许外部程序直接访问，而是通过该类提供的公共方法（getXxx()/setXxx()方法）来实现对隐藏信息的操作和访问。

封装好处：

通过方法来控制成员变量的操作，提高了代码的安全性，把代码用方法进行封装，提高了代码的复用性。

### 4.2 private关键字

概述：private是一个权限修饰符，代表最小权限，可以用来修饰成员（成员变量，成员方法）

特点：被private修饰的成员，只能在本类进行访问，针对private修饰的成员变量，如果需要被其他类使用，提供相应的操作：

​	1、提供“get变量名()”方法，用于获取成员变量的值，方法用public修饰。

​	2、提供“set变量名(参数)”方法，用于设置成员变量的值，方法用public修饰。

```java
// 学生类
class Student {
    //成员变量
    String name;
    private int age;

    //提供get/set方法
    public void setAge(int a) {
        if(a<0 || a>120) {
            System.out.println("你给的年龄有误");
        } else {
            age = a;
        }
    }

    public int getAge() {
        return age;
    }

    //成员方法
    public void show() {
        System.out.println(name + "," + age);
    }
}

// 学生测试类
public class StudentDemo {
    public static void main(String[] args) {
        Student s = new Student();
        
        s.name = "林青霞";
        s.setAge(30);
        
        s.show();
    }
}
```
### 4.3 private关键字的使用

需求：

​	1、定义标准的学生类，要求name和age使用private修饰

​	2、并提供set和get方法以及便于显示数据的show方法

​	3、测试类中创建对象并使用，最终控制台输出  林青霞，30 

```java
/*
    学生类
 */
class Student {
    //成员变量
    private String name;
    private int age;

    //get/set方法
    public void setName(String n) {
        name = n;
    }

    public String getName() {
        return name;
    }

    public void setAge(int a) {
        age = a;
    }

    public int getAge() {
        return age;
    }

    public void show() {
        System.out.println(name + "," + age);
    }
}
/*
    学生测试类
 */
public class StudentDemo {
    public static void main(String[] args) {
        //创建对象
        Student s = new Student();

        //使用set方法给成员变量赋值
        s.setName("林青霞");
        s.setAge(30);

        s.show();

        //使用get方法获取成员变量的值
        System.out.println(s.getName() + "," + s.getAge());
    }
}
```

### 4.4 this关键字

概述：this修饰的变量用于指代成员变量，作用是：解决局部变量和成员变量的重名导致成员变量被隐藏的问题。

注意：

​	1、方法的形参如果与成员变量同名，不带this修饰的变量指的是形参，而不是成员变量。

​	2、方法的形参没有与成员变量同名，不带this修饰的变量指的是成员变量。

​	3、this代表当前调用方法的引用，哪个对象调用的方法，this就代表哪一个对象。

​	4、方法中只有一个变量名时，默认也是使用 this 修饰，可以省略不写。

```java
public class Student {
    private String name;
    private int age;

    public void setName(String name) {
        this.name = name;
    }

    public String getName() {
        return name;
    }

    public void setAge(int age) {
        this.age = age;
    }

    public int getAge() {
        return age;
    }

    public void show() {
        System.out.println(name + "," + age);
    }
}
```

### 4.5 this内存原理

![image-20210905171526236](C:\Users\admin\AppData\Roaming\Typora\typora-user-images\image-20210905171526236.png)

![image-20210905171542651](C:\Users\admin\AppData\Roaming\Typora\typora-user-images\image-20210905171542651.png)

## 5. 构造方法

### 5.1 格式和执行时机

```java
修饰符 构造方法名(参数列表){
	// 方法体
}
```

格式注意：

​	1、方法名与类名相同，大小写也要一致

​	2、没有返回值类型，连void都没有

​	3、没有具体的返回值（不能由retrun带回结果数据）

执行时机：

​	1、创建对象的时候调用，每创建一次对象，就会执行一次构造方法

​	2、不能手动调用构造方法

作用：用于给对象的数据（属性）进行初始化

```java
public class Student {
    private String name;
    private int age;
    // 无参数构造方法
    public Student() {}
    // 有参数构造方法
    public Student(String name,int age) {
        this.name = name;
        this.age = age;
    }
}
```

### 5.2 注意事项

1、若不提供构造方法，系统默认给出无参数构造方法；若手动提供构造方法，系统将不再提供默认的构造方法。

2、如果自定义了带参构造方法，还要使用无参数构造方法，就必须再写一个无参数构造方法。

3、建议无论是否使用，都手动书写无参数构造方法，和带参数构造方法。

4、可以使用带参构造，为成员变量进行初始化。

### 5.3 标准类制作

JavaBean 是 Java语言编写类的一种标准规范。符合JavaBean 的类，要求类必须是具体的和公共的，并且具有无参数的构造方法，提供用来操作成员变量的set 和get 方法。

```java
/*
    JavaBean类: 封装数据
 */
public class Student {
    // 成员变量
    private String name;
    private int age;
	
    // 构造方法
    public Student() {
    }

    public Student(String name, int age) {
        this.name = name;
        this.age = age;
    }
	
    // 成员方法
    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

    public void show(){
        System.out.println(name + "..." + age);
    }
}

```

```java
public class TestStudent {
    public static void main(String[] args) {
        // 1. 无参数构造方法创建对象, 通过setXxx方法给成员变量进行赋值
        Student stu1 = new Student();
        stu1.setName("张三");
        stu1.setAge(23);
        stu1.show();

        // 2. 通过带参数构造方法, 直接给属性进行赋值
        Student stu2 = new Student("李四",24);
        stu2.show();
    }
}

```

